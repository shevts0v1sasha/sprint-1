# Задание 1. Разделение проекта architecture-spring-1 на микрофронтенды

## В проекте я выделил 2 микрофронтенда: 
### auth
Микрофронтенд отвечает за авторизацию, регистрацию новых пользователей.  
Вклюачет в себя следующие компоненты:  
* Login - форма на главной странице
* ProfileSection - профиль авторизованного пользователя на экране с карточками
* HeaderLogout - кнопка выхода
* Register - форма регистрации

### cards
Микрофронтенд отвечает за контент, позволяет просматривать, лайкать, удалять посты.  
Включает в себя следующие компоненты:  
* Card - карточка места
* ContentSection - общее место для всех карточек
* AddPlacePopup - кнопка для добавления нового места
* ImagePopup - просмотр фотографии карточки

### Реализация 
Было принято решение воспользоваться способом динамической подгрузки микрофронтендов с помощью Module Federation.  
Для этого было создано приложение host, которая внутри webpack конфига подключает наши микрофронтенды. Оно слушает событие login и logout для автоматического роутинга.  
Это приложение содержит пользователя и прокидывает его в микрофронтенды.  

Также, был взят модуль backend.  
В нем была немного подредактирована логика авторизации, т.к. в дефолтной реализации токен сохранялся в куки и на ручке логина возвращался авторизованный пользователь.  
На фронте же, ожидалось в теле ответа получить логин, чего не происходило.  

Код доведен до состояния запуска, однако не все функции поддерживаются. Сейчас работает регистрация и авторизация.

## Запуск
В каждом из модулей (backend, auth, cards, host) нужно вызвать команду npm i, npm start.

## Выбор Module Federation
Т.к. нет надобности в использовании разных фреймворков и обеспечения богатого пользовательского интерфейса было принято решение реализовать микрофронтенды с помощью Module Federation.


# Задание 2. Разделение монолитного сервиса управления торговыми площадками на микросервисы
Ссылка на draw.io: https://drive.google.com/file/d/1JxR4yxenzm2fuXmvOFD7TIZwMRdA4rLg/view?usp=sharing  

В процессе разделения были приняты следующие решения:  
Создание микросервисов  
1. User Service, который хранит всех пользователей системы, отвечает за авторизацию/аутентификацию, регистрирует новых пользователей, выдает JWT токены;  
2. Catalog Service - отвечает за товары и услуг: добавление, редактирование, удаление;  
3. Payment Service - управление платежными операциями;  
4. Order Service - управление процессом создания и обработки заказов;  
5. Auction Service - управление созданием аукционов, обработкой заявок;  
6. Support Service - управление заявками пользователей и аппеляциями;  
7. Report Service - генерация и формирование отчетности, аналитики;
8. Notification Service - сервис для нотификации пользователей об изменениях в системе.  

Был создан слой API Gateway, который при защищенных url ходит в User Service и валидирует токен. Также, оттуда он получает информацию о пользователе, добавляет его в исходный запрос и перенаправляет в целевой микросервис.  
Для общения между сервисами была введена Kafka. Нужна она для несрочных операций - генерация статистики и отчетности, генерация ивентов об оповещении пользователей.  